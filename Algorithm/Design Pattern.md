# 设计模式

## 面向对象七大原则

### 1、开闭原则

对扩展开发，对修改关闭。如果业务发生改变，尽量不修改原代码，而是新增扩展。







### 2、里氏替换原则

尽量不要改变父类原有功能，在子类中新写方法，而不是重写父类方法。正方形（子类）不是长方形（父类），鸵鸟不是鸟（鸟会飞）

### 3、依赖倒置原则

要面向接口编程，不要面向现实编程。

依赖接口，但不要依赖一个具体的子类。

### 4、单一职责

控制类的力度大小，提高内聚性。

### 5、接口隔离原则

各个类建立专用接口。

### 6、迪米特法则

朋友的朋友是陌生人。降低耦合度。最少知道法则。

### 7、合成复用原则

优先使用组合聚合，其次考虑继承。



## 设计模式三大分类

- **创建型模式**

  关注对象的创建

  - 单例，工厂，抽象工厂，建造者，原型

- **结构型模式**

  关注如何将现有类或对象组织在一起形成更加强大的结构

  - 适配器，桥接，装饰，组合，外观，享元，代理

- **行为型模式**

  关注多个类或对象之间相互协作，担任不同角色，完成复杂功能。

  - 模板方法，命令，迭代器，观察者，中介者，备忘录，解释器，状态，策略，职责链，访问者


## 1、工厂模式

开闭原则，依赖倒置原则，迪米特法则

核心本质：实例化对象不用new，用工厂方法代替。将调用者与实现类解耦。

### 简单工厂模式

缺点，如果新增一个类，则需要修改工厂里的创建方法新增一个new ，不合符开闭原则。

但如果符合开闭原则，则需要很大代价。虽然不符合设计模式，但实际使用多，多数项目一般都用简单工厂。

### 工厂方法模式

使用工厂方法解决开闭原则

每个类都有自己的工厂。新增一个类时，不需要修改之前的工厂，只需要新增类工厂。但增加了复杂度

## 2、抽象工厂模式

抽象工厂是多个工厂类的抽象，由具体工厂生产同类不同品牌产品或者同品牌不同类的商品。



## 3、建造者模式

构建与表示分离，实现解耦。

## 4、原型模式

克隆，复制新的副本，并并可修改副本的一些属性。