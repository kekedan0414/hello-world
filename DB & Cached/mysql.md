mysql索引

没有索引，我们条件查询一条记录，需要全表扫描，磁盘IO非常频繁，效率低下。

索引就是根据某一列数据提取出来的有序的数据结构，方便我们快速查找。

比如我们条件查询，select  where 语句，需要遍历表中的每一条记录，因为我们数据是存在磁盘上的，如果记录不连续，寻道寻址IO次数会非常多。时间复杂度是0(n)，而且慢。我们把经常作为条件的某一列来生成一个有序的树状结构单独存储，节点存索引字段以及它的磁盘地址数据，减少磁盘IO次数。

innodb为什么用B+树而不是B树。

B树节点存储数据，占用空间太大，那么树的每一层存的节点就会变少。

B+树只有在叶子节点存储数据，也叫聚集索引，那么非叶子节点就可以存更多的字段数据。减少层高也就减少了IO次数。

比如两千万数据，B+树可能需要三到四层，B树远不止三四层。

第二是解决范围查找的问题，比如大于5的数据，B树需要回旋查找右子树。但B+树叶子是一个链表，直接将右边的数据全部拿出来。

[索引图解](https://blog.csdn.net/m0_37145844/article/details/109374436)

sql调优

联合索引失效

行锁，表锁

MyIsam，Innodb

事务隔离级别

mvcc

分布式事务

base理论

两阶段提交