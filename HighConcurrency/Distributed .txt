CAP定理：
C：数据一致性
A：高可用性
P：分区容错性

CAP无法同时满足。
一般来说分布式系统首先要保证P分区容错性
因为不保证它，设计出来的系统将是非常糟糕的。
比如两个节点A和B做主备高可用。某一时刻心跳断了，这个时候A，B都会以为对方死掉，然后接管系统，争抢资源，这就是我们说的脑裂现象。
一旦网络恢复，比如是数据系统，那么两边的数据不一致，那你要修复这个集群，只能丢弃一边的数据了。

A就是可用性，我们通常说的高可用4个9,5个9，就是要保证尽肯能多的时候集群可用。就算某个节点宕机了，但对客户来说不感知不影响。

C就是数据一致性。集群里面通常在某个节点写入了数据后，需要把数据同步到其他节点上。

分区容错是必须保证的，在这个前提下，一致性和可用性是不可兼得的。

如果我们要保证一致性，那么我们就要加锁，保证在数据同步完成后其他节点才可用。
那么锁定期间，其他节点是不可用的。
如果要保证可用性，那么就不能锁，那一致性不成立。